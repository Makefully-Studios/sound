{"version":3,"file":"TelephoneFilter.mjs","sources":["../../src/filters/TelephoneFilter.ts"],"sourcesContent":["import { getInstance } from '../instance';\r\nimport { WebAudioUtils } from '../webaudio/WebAudioUtils';\r\nimport { Filter } from './Filter';\r\n\r\n/**\r\n * Creates a telephone-sound filter.\r\n *\r\n * @memberof filters\r\n */\r\nclass TelephoneFilter extends Filter\r\n{\r\n    constructor()\r\n    {\r\n        let destination: AudioNode;\r\n        let source: AudioNode;\r\n\r\n        if (!getInstance().useLegacy)\r\n        {\r\n            const { audioContext } = getInstance().context;\r\n            const lpf1 = audioContext.createBiquadFilter();\r\n            const lpf2 = audioContext.createBiquadFilter();\r\n            const hpf1 = audioContext.createBiquadFilter();\r\n            const hpf2 = audioContext.createBiquadFilter();\r\n\r\n            lpf1.type = 'lowpass';\r\n            WebAudioUtils.setParamValue(lpf1.frequency, 2000.0);\r\n\r\n            lpf2.type = 'lowpass';\r\n            WebAudioUtils.setParamValue(lpf2.frequency, 2000.0);\r\n\r\n            hpf1.type = 'highpass';\r\n            WebAudioUtils.setParamValue(hpf1.frequency, 500.0);\r\n\r\n            hpf2.type = 'highpass';\r\n            WebAudioUtils.setParamValue(hpf2.frequency, 500.0);\r\n\r\n            lpf1.connect(lpf2);\r\n            lpf2.connect(hpf1);\r\n            hpf1.connect(hpf2);\r\n\r\n            destination = lpf1;\r\n            source = hpf2;\r\n        }\r\n\r\n        super(destination, source);\r\n    }\r\n}\r\n\r\nexport { TelephoneFilter };\r\n"],"names":[],"mappings":";;;;AASA,MAAM,wBAAwB,MAC9B,CAAA;AAAA,EACI,WACA,GAAA;AACI,IAAI,IAAA,WAAA,CAAA;AACJ,IAAI,IAAA,MAAA,CAAA;AAEJ,IAAI,IAAA,CAAC,WAAY,EAAA,CAAE,SACnB,EAAA;AACI,MAAA,MAAM,EAAE,YAAA,EAAiB,GAAA,WAAA,EAAc,CAAA,OAAA,CAAA;AACvC,MAAM,MAAA,IAAA,GAAO,aAAa,kBAAmB,EAAA,CAAA;AAC7C,MAAM,MAAA,IAAA,GAAO,aAAa,kBAAmB,EAAA,CAAA;AAC7C,MAAM,MAAA,IAAA,GAAO,aAAa,kBAAmB,EAAA,CAAA;AAC7C,MAAM,MAAA,IAAA,GAAO,aAAa,kBAAmB,EAAA,CAAA;AAE7C,MAAA,IAAA,CAAK,IAAO,GAAA,SAAA,CAAA;AACZ,MAAc,aAAA,CAAA,aAAA,CAAc,IAAK,CAAA,SAAA,EAAW,GAAM,CAAA,CAAA;AAElD,MAAA,IAAA,CAAK,IAAO,GAAA,SAAA,CAAA;AACZ,MAAc,aAAA,CAAA,aAAA,CAAc,IAAK,CAAA,SAAA,EAAW,GAAM,CAAA,CAAA;AAElD,MAAA,IAAA,CAAK,IAAO,GAAA,UAAA,CAAA;AACZ,MAAc,aAAA,CAAA,aAAA,CAAc,IAAK,CAAA,SAAA,EAAW,GAAK,CAAA,CAAA;AAEjD,MAAA,IAAA,CAAK,IAAO,GAAA,UAAA,CAAA;AACZ,MAAc,aAAA,CAAA,aAAA,CAAc,IAAK,CAAA,SAAA,EAAW,GAAK,CAAA,CAAA;AAEjD,MAAA,IAAA,CAAK,QAAQ,IAAI,CAAA,CAAA;AACjB,MAAA,IAAA,CAAK,QAAQ,IAAI,CAAA,CAAA;AACjB,MAAA,IAAA,CAAK,QAAQ,IAAI,CAAA,CAAA;AAEjB,MAAc,WAAA,GAAA,IAAA,CAAA;AACd,MAAS,MAAA,GAAA,IAAA,CAAA;AAAA,KACb;AAEA,IAAA,KAAA,CAAM,aAAa,MAAM,CAAA,CAAA;AAAA,GAC7B;AACJ;;;;"}